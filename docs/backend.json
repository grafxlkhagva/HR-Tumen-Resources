{
  "entities": {
    "Employee": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Ажилтан",
      "type": "object",
      "description": "Хүний нөөцийн систем дэх ажилтныг илэрхийлнэ.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Ажилтны давтагдашгүй танигч."
        },
        "employeeCode": {
          "type": "string",
          "description": "Ажилтны давтагдашгүй код, системд нэвтрэх нэр болно."
        },
        "role": {
            "type": "string",
            "description": "Ажилтны системийн эрх (жишээ нь: admin, employee)."
        },
        "firstName": {
          "type": "string",
          "description": "Ажилтны нэр."
        },
        "lastName": {
          "type": "string",
          "description": "Ажилтны овог."
        },
        "email": {
          "type": "string",
          "description": "Ажилтны имэйл хаяг.",
          "format": "email"
        },
        "phoneNumber": {
          "type": "string",
          "description": "Ажилтны утасны дугаар."
        },
        "jobTitle": {
          "type": "string",
          "description": "Ажилтны албан тушаал."
        },
        "department": {
          "type": "string",
          "description": "Ажилтны харьяалагдах хэлтэс."
        },
        "hireDate": {
          "type": "string",
          "description": "Ажилтныг ажилд авсан огноо.",
          "format": "date-time"
        },
        "terminationDate": {
          "type": "string",
          "description": "Ажилтныг ажлаас халсан огноо (хэрэв байгаа бол).",
          "format": "date-time"
        }
      },
      "required": [
        "id",
        "employeeCode",
        "role",
        "firstName",
        "lastName",
        "email",
        "jobTitle",
        "department",
        "hireDate"
      ]
    },
    "TimeOffRequest": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Чөлөөний хүсэлт",
      "type": "object",
      "description": "Ажилтны ирүүлсэн чөлөөний хүсэлтийг илэрхийлнэ.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Чөлөөний хүсэлтийн давтагдашгүй танигч."
        },
        "employeeId": {
          "type": "string",
          "description": "Ажилтантай холбогдох танигч. (Хамаарал: Ажилтан 1:N Чөлөөний хүсэлт)"
        },
        "startDate": {
          "type": "string",
          "description": "Чөлөө авах эхлэх огноо.",
          "format": "date-time"
        },
        "endDate": {
          "type": "string",
          "description": "Чөлөө авах дуусах огноо.",
          "format": "date-time"
        },
        "reason": {
          "type": "string",
          "description": "Чөлөө авах болсон шалтгаан."
        },
        "status": {
          "type": "string",
          "description": "Чөлөөний хүсэлтийн төлөв (жишээ нь, хүлээгдэж буй, зөвшөөрсөн, татгалзсан)."
        }
      },
      "required": [
        "id",
        "employeeId",
        "startDate",
        "endDate",
        "reason",
        "status"
      ]
    },
    "Document": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Баримт бичиг",
      "type": "object",
      "description": "Хүний нөөцийн баримт бичгийг илэрхийлнэ.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Баримт бичгийн давтагдашгүй танигч."
        },
        "title": {
          "type": "string",
          "description": "Баримт бичгийн гарчиг."
        },
        "description": {
          "type": "string",
          "description": "Баримт бичгийн тодорхойлолт."
        },
        "url": {
          "type": "string",
          "description": "Баримт бичгийн URL эсвэл зам.",
          "format": "uri"
        },
        "uploadDate": {
          "type": "string",
          "description": "Баримт бичгийг байршуулсан огноо.",
          "format": "date-time"
        }
      },
      "required": [
        "id",
        "title",
        "description",
        "url",
        "uploadDate"
      ]
    },
    "OnboardingTask": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Шинэ ажилтны даалгавар",
      "type": "object",
      "description": "Шинэ ажилтны дадлагын шалгах хуудасны даалгаврыг илэрхийлнэ.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Дадлагын даалгаврын давтагдашгүй танигч."
        },
        "description": {
          "type": "string",
          "description": "Дадлагын даалгаврын тодорхойлолт."
        },
        "dueDate": {
          "type": "string",
          "description": "Даалгаврыг дуусгах хугацаа.",
          "format": "date-time"
        },
        "completed": {
          "type": "boolean",
          "description": "Даалгавар дууссан эсэхийг заана."
        },
        "employeeId": {
          "type": "string",
          "description": "Ажилтантай холбогдох танигч. (Хамаарал: Ажилтан 1:N Шинэ ажилтны даалгавар)"
        }
      },
      "required": [
        "id",
        "description",
        "dueDate",
        "completed",
        "employeeId"
      ]
    },
    "CompanyProfile": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Компанийн мэдээлэл",
      "type": "object",
      "description": "Компанийн ерөнхий мэдээллийг хадгална.",
      "properties": {
        "name": {
          "type": "string",
          "description": "Компанийн нэр."
        },
        "legalName": {
          "type": "string",
          "description": "Хуулийн этгээдийн нэр."
        },
        "registrationNumber": {
          "type": "string",
          "description": "Улсын бүртгэлийн дугаар."
        },
        "taxId": {
          "type": "string",
          "description": "Татвар төлөгчийн дугаар."
        },
        "industry": {
          "type": "string",
          "description": "Үйл ажиллагааны чиглэл."
        },
        "employeeCount": {
          "type": "string",
          "description": "Ажилтны тоо."
        },
        "ceo": {
          "type": "string",
          "description": "Гүйцэтгэх захирал."
        },
        "website": {
          "type": "string",
          "description": "Компанийн вэбсайт.",
          "format": "uri"
        },
        "mission": {
          "type": "string",
          "description": "Компанийн эрхэм зорилго."
        },
        "vision": {
          "type": "string",
          "description": "Компанийн алсын хараа."
        },
        "values": {
          "type": "array",
          "description": "Компанийн үнэт зүйлс.",
          "items": {
            "type": "object",
            "properties": {
              "title": {
                "type": "string",
                "description": "Үнэт зүйлийн гарчиг."
              },
              "description": {
                "type": "string",
                "description": "Үнэт зүйлийн тодорхойлолт."
              },
              "icon": {
                "type": "string",
                "description": "Үнэт зүйлийн дүрсний танигч."
              }
            },
            "required": [
              "title",
              "description",
              "icon"
            ]
          }
        },
        "phoneNumber": {
          "type": "string",
          "description": "Компанийн утасны дугаар."
        },
        "contactEmail": {
          "type": "string",
          "description": "Компанийн холбоо барих имэйл хаяг.",
          "format": "email"
        },
        "address": {
          "type": "string",
          "description": "Компанийн хаяг."
        }
      },
      "required": [
        "name"
      ]
    },
    "Department": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Хэлтэс",
      "type": "object",
      "description": "Байгууллагын бүтцэд орсон хэлтэс нэгжийг илэрхийлнэ.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Хэлтсийн давтагдашгүй танигч."
        },
        "name": {
          "type": "string",
          "description": "Хэлтсийн нэр."
        },
        "typeId": {
          "type": "string",
          "description": "Бүтцийн төрлийн танигч. (Хамаарал: DepartmentType 1:N Department)"
        },
        "parentId": {
          "type": "string",
          "description": "Энэ нэгжийн харьяалагдах дээд нэгжийн танигч. (Хамаарал: Department 1:N Department)"
        }
      },
      "required": [
        "id",
        "name",
        "typeId"
      ]
    },
    "DepartmentType": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Хэлтсийн төрөл",
      "type": "object",
      "description": "Байгууллагын бүтцийн нэгжийн төрлийг илэрхийлнэ (жишээ нь, Хэлтэс, Алба, Баг).",
      "properties": {
        "id": {
          "type": "string",
          "description": "Төрлийн давтагдашгүй танигч."
        },
        "name": {
          "type": "string",
          "description": "Төрлийн нэр (жишээ нь, 'Хэлтэс')."
        }
      },
      "required": [
        "id",
        "name"
      ]
    },
    "Position": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Албан тушаал",
      "type": "object",
      "description": "Байгууллага доторх албан тушаал, орон тоог илэрхийлнэ.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Албан тушаалын давтагдашгүй танигч."
        },
        "title": {
          "type": "string",
          "description": "Албан тушаалын нэр."
        },
        "departmentId": {
          "type": "string",
          "description": "Энэ албан тушаал харьяалагдах хэлтсийн танигч. (Хамаарал: Department 1:N Position)"
        },
        "levelId": {
          "type": "string",
          "description": "Албан тушаалын зэрэглэлийн танигч. (Хамаарал: PositionLevel 1:N Position)"
        },
        "employmentTypeId": {
          "type": "string",
          "description": "Ажил эрхлэлтийн төрлийн танигч. (Хамаарал: EmploymentType 1:N Position)"
        },
        "jobCategoryId": {
          "type": "string",
          "description": "Үндэсний ажил мэргэжлийн ангилал, тодорхойлолт (ҮАМАТ) танигч. (Хамаарал: JobCategory 1:N Position)"
        },
        "headcount": {
          "type": "number",
          "description": "Энэ албан тушаалын батлагдсан орон тооны тоо."
        },
        "filled": {
          "type": "number",
          "description": "Одоо ажиллаж буй ажилтны тоо."
        },
        "statusId": {
          "type": "string",
          "description": "Ажлын байрны төлвийн танигч. (Хамаарал: PositionStatus 1:N Position)"
        }
      },
      "required": [
        "id",
        "title",
        "departmentId",
        "headcount"
      ]
    },
    "EmploymentType": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Ажил эрхлэлтийн төрөл",
      "description": "Ажил эрхлэлтийн төрлийг тодорхойлно (жишээ нь: Үндсэн, Гэрээт).",
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        },
        "name": {
          "type": "string",
          "description": "Төрлийн нэр."
        }
      },
      "required": [
        "id",
        "name"
      ]
    },
    "PositionStatus": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Ажлын байрны төлөв",
      "description": "Ажлын байрны төлвийг тодорхойлно (жишээ нь: Нээлттэй, Хаалттай).",
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        },
        "name": {
          "type": "string",
          "description": "Төлвийн нэр."
        }
      },
      "required": [
        "id",
        "name"
      ]
    },
    "JobCategory": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Ажил мэргэжлийн ангилал",
      "description": "Үндэсний ажил мэргэжлийн ангилал, тодорхойлолтыг (ҮАМАТ) хадгална.",
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        },
        "code": {
          "type": "string",
          "description": "Ангиллын код."
        },
        "name": {
          "type": "string",
          "description": "Ангиллын нэр."
        }
      },
      "required": [
        "id",
        "code",
        "name"
      ]
    },
    "PositionLevel": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Албан тушаалын зэрэглэл",
      "description": "Албан тушаалын зэрэглэлийг тодорхойлно (жишээ нь: Удирдах, Гүйцэтгэх).",
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        },
        "name": {
          "type": "string",
          "description": "Зэрэглэлийн нэр."
        }
      },
      "required": [
        "id",
        "name"
      ]
    },
    "EmployeeCodeConfig": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Ажилтны кодчлолын тохиргоо",
      "type": "object",
      "description": "Ажилтны кодыг автоматаар үүсгэх тохиргоог хадгална.",
      "properties": {
        "prefix": {
          "type": "string",
          "description": "Кодын угтвар үсэг (жишээ нь: 'EMP')."
        },
        "digitCount": {
          "type": "number",
          "description": "Кодын тоон хэсгийн уртын тоо (жишээ нь: 4 => 0001)."
        },
        "nextNumber": {
          "type": "number",
          "description": "Дараагийн үүсгэх кодын дугаар."
        }
      },
      "required": [
        "prefix",
        "digitCount",
        "nextNumber"
      ]
    }
  },
  "auth": {
    "providers": [
      "password",
      "anonymous"
    ]
  },
  "firestore": {
    "structure": [
      {
        "path": "/employees/{employeeId}",
        "definition": {
          "entityName": "Employee",
          "schema": {
            "$ref": "#/backend/entities/Employee"
          },
          "description": "Ажилтны профайлын мэдээллийг хадгална.",
          "params": [
            {
              "name": "employeeId",
              "description": "Ажилтны давтагдашгүй танигч."
            }
          ]
        }
      },
      {
        "path": "/employees/{employeeId}/timeOffRequests/{timeOffRequestId}",
        "definition": {
          "entityName": "TimeOffRequest",
          "schema": {
            "$ref": "#/backend/entities/TimeOffRequest"
          },
          "description": "Ажилтантай холбоотой чөлөөний хүсэлтийг хадгална.",
          "params": [
            {
              "name": "employeeId",
              "description": "Ажилтны давтагдашгүй танигч."
            },
            {
              "name": "timeOffRequestId",
              "description": "Чөлөөний хүсэлтийн давтагдашгүй танигч."
            }
          ]
        }
      },
      {
        "path": "/employees/{employeeId}/onboardingTasks/{onboardingTaskId}",
        "definition": {
          "entityName": "OnboardingTask",
          "schema": {
            "$ref": "#/backend/entities/OnboardingTask"
          },
          "description": "Ажилтантай холбоотой дадлагын даалгавруудыг хадгална.",
          "params": [
            {
              "name": "employeeId",
              "description": "Ажилтны давтагдашгүй танигч."
            },
            {
              "name": "onboardingTaskId",
              "description": "Дадлагын даалгаврын давтагдашгүй танигч."
            }
          ]
        }
      },
      {
        "path": "/documents/{documentId}",
        "definition": {
          "entityName": "Document",
          "schema": {
            "$ref": "#/backend/entities/Document"
          },
          "description": "Хүний нөөцийн баримт бичгүүдийг хадгална.",
          "params": [
            {
              "name": "documentId",
              "description": "Баримт бичгийн давтагдашгүй танигч."
            }
          ]
        }
      },
      {
        "path": "/company/profile",
        "definition": {
          "entityName": "CompanyProfile",
          "schema": {
            "$ref": "#/backend/entities/CompanyProfile"
          },
          "description": "Компанийн үндсэн мэдээллийг хадгалах ганц баримт бичиг.",
          "params": []
        }
      },
      {
        "path": "/company/employeeCodeConfig",
        "definition": {
          "entityName": "EmployeeCodeConfig",
          "schema": {
            "$ref": "#/backend/entities/EmployeeCodeConfig"
          },
          "description": "Ажилтны кодчлолын тохиргоог хадгалах ганц баримт бичиг.",
          "params": []
        }
      },
      {
        "path": "/departments/{departmentId}",
        "definition": {
          "entityName": "Department",
          "schema": {
            "$ref": "#/backend/entities/Department"
          },
          "description": "Байгууллагын хэлтсүүдийг хадгална.",
          "params": [
            {
              "name": "departmentId",
              "description": "Хэлтсийн давтагдашгүй танигч."
            }
          ]
        }
      },
      {
        "path": "/departmentTypes/{departmentTypeId}",
        "definition": {
          "entityName": "DepartmentType",
          "schema": {
            "$ref": "#/backend/entities/DepartmentType"
          },
          "description": "Байгууллагын бүтцийн нэгжийн төрлийг хадгална (жишээ нь, Хэлтэс, Алба).",
          "params": [
            {
              "name": "departmentTypeId",
              "description": "Бүтцийн төрлийн давтагдашгүй танигч."
            }
          ]
        }
      },
      {
        "path": "/positions/{positionId}",
        "definition": {
          "entityName": "Position",
          "schema": {
            "$ref": "#/backend/entities/Position"
          },
          "description": "Байгууллагын бүх албан тушаалын мэдээллийг хадгална.",
          "params": [
            {
              "name": "positionId",
              "description": "Албан тушаалын давтагдашгүй танигч."
            }
          ]
        }
      },
      {
        "path": "/employmentTypes/{employmentTypeId}",
        "definition": {
          "entityName": "EmploymentType",
          "schema": {
            "$ref": "#/backend/entities/EmploymentType"
          },
          "description": "Ажил эрхлэлтийн төрлийн лавлах сан.",
          "params": [
            {
              "name": "employmentTypeId",
              "description": "Төрлийн танигч."
            }
          ]
        }
      },
      {
        "path": "/positionStatuses/{positionStatusId}",
        "definition": {
          "entityName": "PositionStatus",
          "schema": {
            "$ref": "#/backend/entities/PositionStatus"
          },
          "description": "Ажлын байрны төлвийн лавлах сан.",
          "params": [
            {
              "name": "positionStatusId",
              "description": "Төлвийн танигч."
            }
          ]
        }
      },
      {
        "path": "/jobCategories/{jobCategoryId}",
        "definition": {
          "entityName": "JobCategory",
          "schema": {
            "$ref": "#/backend/entities/JobCategory"
          },
          "description": "Ажил мэргэжлийн ангиллын лавлах сан.",
          "params": [
            {
              "name": "jobCategoryId",
              "description": "Ангиллын танигч."
            }
          ]
        }
      },
      {
        "path": "/positionLevels/{positionLevelId}",
        "definition": {
          "entityName": "PositionLevel",
          "schema": {
            "$ref": "#/backend/entities/PositionLevel"
          },
          "description": "Албан тушаалын зэрэглэлийн лавлах сан.",
          "params": [
            {
              "name": "positionLevelId",
              "description": "Зэрэглэлийн танигч."
            }
          ]
        }
      }
    ],
    "reasoning": "Firestore өгөгдлийн бүтцийг Teal HR програмын онцлогт тохируулан, ажилтны удирдлага, чөлөөний хүсэлт, баримт бичгийн удирдлага, шинэ ажилтны дадлага зэрэгт төвлөрүүлэн боловсруулсан. Энэхүү бүтэц нь өгөгдлийг салгах замаар зөвшөөрлийн бие даасан байдлыг хангах, аюулгүй, өргөтгөх боломжтой үйл ажиллагааг идэвхжүүлэхэд чиглэгдсэн. Ажилтны профайлыг `/employees/{employeeId}` замд хадгалах ба чөлөөний хүсэлт, дадлагын даалгавар зэрэг холбогдох өгөгдлийг `/employees/{employeeId}/timeOffRequests/{timeOffRequestId}` болон `/employees/{employeeId}/onboardingTasks/{onboardingTaskId}` гэсэн дэд цуглуулгад хадгална. Энэхүү шаталсан бүтэц нь тодорхой ажилтантай холбоотой өгөгдлийг хялбархан асуух боломжийг олгож, өмчлөлд суурилсан аюулгүй байдлын дүрмийг хэрэгжүүлдэг. Баримт бичгүүдийг `/documents/{documentId}` гэсэн дээд түвшний цуглуулгад хадгална. Ингэж тусгаарласнаар баrimт бичгийн хандалтыг бие даан удирдах боломжтой болно. Компанийн мэдээллийг `/company/profile` гэсэн замд хадгалснаар системд нэг л компанийн мэдээлэл байх боломжийг бүрдүүлнэ. Байгууллагын бүтцийн хувьд хэлтсүүдийг `/departments/{departmentId}` гэсэн дээд түвшний цуглуулгад хадгалж, албан тушаалуудыг `/positions/{positionId}` гэсэн тусдаа цуглуулгад хадгалах нь өгөгдлийн зохион байгуулалтыг сайжруулж, удирдан асуухад хялбар болгоно. Энэ нь хэлтсийн мэдээллээс хамааралгүйгээр албан тушаалыг удирдах боломжийг олгоно. Ажилтантай холбоотой өгөгдлийг замд суурилсан өмчлөл (`/employees/{employeeId}/...`) ашиглах нь өгөгдлийг ажилтны ID-тай шууд холбож, аюулгүй байдлын дүрмийг хялбаршуулдаг. Энэ бүтэц нь маш аюулгүй бөгөөд өгөгдлийн нууцлалыг хангана. Зөвшөөрлийн бие даасан байдлыг хангахын тулд `get()` дуудлага шаардлагагүй, учир нь бүх шаардлагатай зөвшөөрлийн шалгалтыг замд үндэслэн гүйцэтгэнэ.\n\nЭнэхүү бүтэц нь өгөгдлийг өмчлөлөөр нь ангилснаар QAPs (Дүрэм бол шүүлтүүр биш) -ийг дэмждэг. Жагсаалтын үйлдэл нь зөвхөн хэрэглэгчийн хандах эрхтэй зүйлсийг буцаана, учир нь тэдгээр нь зам нь өмчлөлийг заадаг цуглуулгад ангилагдсан байдаг. Энэ тохиолдолд гишүүнчлэлийн загварыг хатуу мөрддөггүй, учир нь бүх ажилчид өөрсдийн зам дахь өөрсдийн өгөгдөлд хандах эрхтэй гэж үздэг. Нөгөө талаас, баримт бичгүүдийг хэрэглэгч унших зөвшөөрөлтэй бол хандах боломжтой. Энэ бүтцэд ямар ч глобал үүрэг хэрэглэгдээгүй."
  }
}
